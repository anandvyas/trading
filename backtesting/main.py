import datetime
import numpy as np
import pandas as pd 
import pandas_ta as ta
import plotly.graph_objects as go
from plotly.subplots import make_subplots

from backtesting import Backtest, Strategy 

df = pd.DataFrame()
df = pd.read_csv("./data/ACC.csv")

start_date = "2015-02-11"
end_date   = "2015-02-20"
df = df[(df['date'] >= start_date) & (df['date'] <= end_date)]

df["date"] = pd.to_datetime(df.date)
df = df.set_index("date")

# List of all indicators
# print(df.ta.indicators())

MyStrategy = ta.Strategy(
    name="DCSMA10",
    ta=[
        {"kind": "sma", "length": 9},
        {"kind": "sma", "length": 21},
        {"kind": "rsi"},
        {"kind": "vwap"},
        {"kind": "atr"},
        {"kind": "adx"},
        {"kind": "cci"},
        {"kind": "macd", "fast": 12, "slow": 26},
    ]
)

df.ta.strategy(MyStrategy)
df.dropna(inplace=True)
df.reset_index(drop=False, inplace=True)

print(df)

# trace1 = {
#   "mode": "lines+markers", 
#   "name": "PRICE", 
#   "type": "scatter", 
#   "x": ["2018-11-22 01:00:00", "2018-11-22 01:30:00", "2018-11-22 02:00:00", "2018-11-22 02:30:00", "2018-11-22 03:00:00", "2018-11-22 03:30:00", "2018-11-22 04:00:00", "2018-11-22 04:30:00", "2018-11-22 05:00:00", "2018-11-22 05:30:00", "2018-11-22 06:00:00", "2018-11-22 06:30:00", "2018-11-22 07:00:00", "2018-11-22 07:30:00", "2018-11-22 08:00:00", "2018-11-22 08:30:00", "2018-11-22 09:00:00", "2018-11-22 09:30:00", "2018-11-22 10:00:00", "2018-11-22 10:30:00", "2018-11-22 11:00:00", "2018-11-22 11:30:00", "2018-11-22 12:00:00", "2018-11-22 12:30:00", "2018-11-22 13:00:00", "2018-11-22 13:30:00", "2018-11-22 14:00:00", "2018-11-22 14:30:00", "2018-11-22 15:00:00", "2018-11-22 15:30:00", "2018-11-22 16:00:00", "2018-11-22 16:30:00", "2018-11-22 17:00:00", "2018-11-22 17:30:00", "2018-11-22 18:00:00", "2018-11-22 18:30:00", "2018-11-22 19:00:00", "2018-11-22 19:30:00", "2018-11-22 20:00:00", "2018-11-22 20:30:00", "2018-11-22 21:00:00", "2018-11-22 21:30:00", "2018-11-22 22:00:00", "2018-11-22 22:30:00", "2018-11-22 23:00:00", "2018-11-22 23:30:00", "2018-11-23 00:00:00", "2018-11-23 00:30:00", "2018-11-23 01:00:00", "2018-11-23 01:30:00", "2018-11-23 02:00:00", "2018-11-23 02:30:00", "2018-11-23 03:00:00", "2018-11-23 03:30:00", "2018-11-23 04:00:00", "2018-11-23 04:30:00", "2018-11-23 05:00:00", "2018-11-23 05:30:00", "2018-11-23 06:00:00", "2018-11-23 06:30:00", "2018-11-23 07:00:00", "2018-11-23 07:30:00", "2018-11-23 08:00:00", "2018-11-23 08:30:00", "2018-11-23 09:00:00", "2018-11-23 09:30:00", "2018-11-23 10:00:00", "2018-11-23 10:30:00", "2018-11-23 11:00:00", "2018-11-23 11:30:00", "2018-11-23 12:00:00", "2018-11-23 12:30:00", "2018-11-23 13:00:00", "2018-11-23 13:30:00", "2018-11-23 14:00:00", "2018-11-23 14:30:00", "2018-11-23 15:00:00", "2018-11-23 15:30:00", "2018-11-23 16:00:00", "2018-11-23 16:30:00", "2018-11-23 17:00:00", "2018-11-23 17:30:00", "2018-11-23 18:00:00", "2018-11-23 18:30:00", "2018-11-23 19:00:00", "2018-11-23 19:30:00", "2018-11-23 20:00:00", "2018-11-23 20:30:00", "2018-11-23 21:00:00", "2018-11-23 21:30:00", "2018-11-23 22:00:00", "2018-11-23 22:30:00", "2018-11-23 23:00:00", "2018-11-23 23:30:00", "2018-11-24 00:00:00", "2018-11-24 00:30:00", "2018-11-24 01:00:00", "2018-11-24 01:30:00", "2018-11-24 02:00:00", "2018-11-24 02:30:00", "2018-11-24 03:00:00", "2018-11-24 03:30:00", "2018-11-24 04:00:00", "2018-11-24 04:30:00", "2018-11-24 05:00:00", "2018-11-24 05:30:00", "2018-11-24 06:00:00", "2018-11-24 06:30:00", "2018-11-24 07:00:00", "2018-11-24 07:30:00", "2018-11-24 08:00:00", "2018-11-24 08:30:00", "2018-11-24 09:00:00", "2018-11-24 09:30:00", "2018-11-24 10:00:00", "2018-11-24 10:30:00", "2018-11-24 11:00:00", "2018-11-24 11:30:00", "2018-11-24 12:00:00", "2018-11-24 12:30:00", "2018-11-24 13:00:00", "2018-11-24 13:30:00", "2018-11-24 14:00:00", "2018-11-24 14:30:00", "2018-11-24 15:00:00", "2018-11-24 15:30:00", "2018-11-24 16:00:00", "2018-11-24 16:30:00", "2018-11-24 17:00:00", "2018-11-24 17:30:00", "2018-11-24 18:00:00", "2018-11-24 18:30:00", "2018-11-24 19:00:00", "2018-11-24 19:30:00", "2018-11-24 20:00:00", "2018-11-24 20:30:00", "2018-11-24 21:00:00", "2018-11-24 21:30:00", "2018-11-24 22:00:00", "2018-11-24 22:30:00", "2018-11-24 23:00:00", "2018-11-24 23:30:00", "2018-11-25 00:00:00", "2018-11-25 00:30:00", "2018-11-25 01:00:00", "2018-11-25 01:30:00", "2018-11-25 02:00:00", "2018-11-25 02:30:00", "2018-11-25 03:00:00", "2018-11-25 03:30:00", "2018-11-25 04:00:00", "2018-11-25 04:30:00", "2018-11-25 05:00:00", "2018-11-25 05:30:00", "2018-11-25 06:00:00", "2018-11-25 06:30:00", "2018-11-25 07:00:00", "2018-11-25 07:30:00", "2018-11-25 08:00:00", "2018-11-25 08:30:00", "2018-11-25 09:00:00", "2018-11-25 09:30:00", "2018-11-25 10:00:00", "2018-11-25 10:30:00", "2018-11-25 11:00:00", "2018-11-25 11:30:00", "2018-11-25 12:00:00", "2018-11-25 12:30:00", "2018-11-25 13:00:00", "2018-11-25 13:30:00", "2018-11-25 14:00:00", "2018-11-25 14:30:00", "2018-11-25 15:00:00", "2018-11-25 15:30:00", "2018-11-25 16:00:00", "2018-11-25 16:30:00", "2018-11-25 17:00:00", "2018-11-25 17:30:00", "2018-11-25 18:00:00", "2018-11-25 18:30:00", "2018-11-25 19:00:00", "2018-11-25 19:30:00", "2018-11-25 20:00:00", "2018-11-25 20:30:00", "2018-11-25 21:00:00", "2018-11-25 21:30:00", "2018-11-25 22:00:00", "2018-11-25 22:30:00", "2018-11-25 23:00:00", "2018-11-25 23:30:00", "2018-11-26 00:00:00", "2018-11-26 00:30:00", "2018-11-26 01:00:00", "2018-11-26 01:30:00", "2018-11-26 02:00:00", "2018-11-26 02:30:00", "2018-11-26 03:00:00", "2018-11-26 03:30:00", "2018-11-26 04:00:00", "2018-11-26 04:30:00", "2018-11-26 05:00:00", "2018-11-26 05:30:00", "2018-11-26 06:00:00", "2018-11-26 06:30:00", "2018-11-26 07:00:00", "2018-11-26 07:30:00", "2018-11-26 08:00:00", "2018-11-26 08:30:00", "2018-11-26 09:00:00", "2018-11-26 09:30:00", "2018-11-26 10:00:00", "2018-11-26 10:30:00", "2018-11-26 11:00:00", "2018-11-26 11:30:00", "2018-11-26 12:00:00", "2018-11-26 12:30:00", "2018-11-26 13:00:00", "2018-11-26 13:30:00", "2018-11-26 14:00:00", "2018-11-26 14:30:00", "2018-11-26 15:00:00", "2018-11-26 15:30:00", "2018-11-26 16:00:00", "2018-11-26 16:30:00", "2018-11-26 17:00:00", "2018-11-26 17:30:00", "2018-11-26 18:00:00", "2018-11-26 18:30:00", "2018-11-26 19:00:00", "2018-11-26 19:30:00", "2018-11-26 20:00:00", "2018-11-26 20:30:00", "2018-11-26 21:00:00", "2018-11-26 21:30:00", "2018-11-26 22:00:00", "2018-11-26 22:30:00", "2018-11-26 23:00:00", "2018-11-26 23:30:00", "2018-11-27 00:00:00", "2018-11-27 00:30:00", "2018-11-27 01:00:00", "2018-11-27 01:30:00", "2018-11-27 02:00:00", "2018-11-27 02:30:00", "2018-11-27 03:00:00", "2018-11-27 03:30:00", "2018-11-27 04:00:00", "2018-11-27 04:30:00", "2018-11-27 05:00:00", "2018-11-27 05:30:00", "2018-11-27 06:00:00", "2018-11-27 06:30:00", "2018-11-27 07:00:00", "2018-11-27 07:30:00", "2018-11-27 08:00:00", "2018-11-27 08:30:00", "2018-11-27 09:00:00", "2018-11-27 09:30:00", "2018-11-27 10:00:00", "2018-11-27 10:30:00", "2018-11-27 11:00:00", "2018-11-27 11:30:00", "2018-11-27 12:00:00", "2018-11-27 12:30:00", "2018-11-27 13:00:00", "2018-11-27 13:30:00", "2018-11-27 14:00:00", "2018-11-27 14:30:00", "2018-11-27 15:00:00", "2018-11-27 15:30:00", "2018-11-27 16:00:00", "2018-11-27 16:30:00", "2018-11-27 17:00:00", "2018-11-27 17:30:00", "2018-11-27 18:00:00", "2018-11-27 18:30:00", "2018-11-27 19:00:00", "2018-11-27 19:30:00", "2018-11-27 20:00:00", "2018-11-27 20:30:00", "2018-11-27 21:00:00", "2018-11-27 21:30:00", "2018-11-27 22:00:00", "2018-11-27 22:30:00", "2018-11-27 23:00:00", "2018-11-27 23:30:00", "2018-11-28 00:00:00", "2018-11-28 00:30:00", "2018-11-28 01:00:00", "2018-11-28 01:30:00", "2018-11-28 02:00:00", "2018-11-28 02:30:00", "2018-11-28 03:00:00", "2018-11-28 03:30:00", "2018-11-28 04:00:00", "2018-11-28 04:30:00", "2018-11-28 05:00:00", "2018-11-28 05:30:00", "2018-11-28 06:00:00", "2018-11-28 06:30:00", "2018-11-28 07:00:00", "2018-11-28 07:30:00", "2018-11-28 08:00:00", "2018-11-28 08:30:00", "2018-11-28 09:00:00", "2018-11-28 09:30:00", "2018-11-28 10:00:00", "2018-11-28 10:30:00", "2018-11-28 11:00:00", "2018-11-28 11:30:00", "2018-11-28 12:00:00", "2018-11-28 12:30:00", "2018-11-28 13:00:00", "2018-11-28 13:30:00", "2018-11-28 14:00:00", "2018-11-28 14:30:00", "2018-11-28 15:00:00", "2018-11-28 15:30:00", "2018-11-28 16:00:00", "2018-11-28 16:30:00", "2018-11-28 17:00:00", "2018-11-28 17:30:00", "2018-11-28 18:00:00", "2018-11-28 18:30:00", "2018-11-28 19:00:00", "2018-11-28 19:30:00", "2018-11-28 20:00:00", "2018-11-28 20:30:00", "2018-11-28 21:00:00", "2018-11-28 21:30:00", "2018-11-28 22:00:00", "2018-11-28 22:30:00", "2018-11-28 23:00:00", "2018-11-28 23:30:00", "2018-11-29 00:00:00", "2018-11-29 00:30:00", "2018-11-29 01:00:00", "2018-11-29 01:30:00", "2018-11-29 02:00:00", "2018-11-29 02:30:00", "2018-11-29 03:00:00", "2018-11-29 03:30:00", "2018-11-29 04:00:00", "2018-11-29 04:30:00", "2018-11-29 05:00:00", "2018-11-29 05:30:00", "2018-11-29 06:00:00", "2018-11-29 06:30:00", "2018-11-29 07:00:00", "2018-11-29 07:30:00", "2018-11-29 08:00:00", "2018-11-29 08:30:00", "2018-11-29 09:00:00", "2018-11-29 09:30:00", "2018-11-29 10:00:00", "2018-11-29 10:30:00", "2018-11-29 11:00:00", "2018-11-29 11:30:00", "2018-11-29 12:00:00", "2018-11-29 12:30:00", "2018-11-29 13:00:00", "2018-11-29 13:30:00", "2018-11-29 14:00:00", "2018-11-29 14:30:00", "2018-11-29 15:00:00", "2018-11-29 15:30:00", "2018-11-29 16:00:00", "2018-11-29 16:30:00", "2018-11-29 17:00:00", "2018-11-29 17:30:00", "2018-11-29 18:00:00", "2018-11-29 18:30:00", "2018-11-29 19:00:00", "2018-11-29 19:30:00", "2018-11-29 20:00:00", "2018-11-29 20:30:00", "2018-11-29 21:00:00", "2018-11-29 21:30:00", "2018-11-29 22:00:00", "2018-11-29 22:30:00", "2018-11-29 23:00:00", "2018-11-29 23:30:00", "2018-11-30 00:00:00", "2018-11-30 00:30:00", "2018-11-30 01:00:00", "2018-11-30 01:30:00", "2018-11-30 02:00:00", "2018-11-30 02:30:00", "2018-11-30 03:00:00", "2018-11-30 03:30:00", "2018-11-30 04:00:00", "2018-11-30 04:30:00", "2018-11-30 05:00:00", "2018-11-30 05:30:00", "2018-11-30 06:00:00", "2018-11-30 06:30:00", "2018-11-30 07:00:00", "2018-11-30 07:30:00", "2018-11-30 08:00:00", "2018-11-30 08:30:00", "2018-11-30 09:00:00", "2018-11-30 09:30:00", "2018-11-30 10:00:00", "2018-11-30 10:30:00", "2018-11-30 11:00:00", "2018-11-30 11:30:00", "2018-11-30 12:00:00", "2018-11-30 12:30:00", "2018-11-30 13:00:00", "2018-11-30 13:30:00", "2018-11-30 14:00:00", "2018-11-30 14:30:00", "2018-11-30 15:00:00", "2018-11-30 15:30:00", "2018-11-30 16:00:00", "2018-11-30 16:30:00", "2018-11-30 17:00:00", "2018-11-30 17:30:00", "2018-11-30 18:00:00", "2018-11-30 18:30:00", "2018-11-30 19:00:00", "2018-11-30 19:30:00", "2018-11-30 20:00:00", "2018-11-30 20:30:00", "2018-11-30 21:00:00", "2018-11-30 21:30:00", "2018-11-30 22:00:00", "2018-11-30 22:30:00", "2018-11-30 23:00:00", "2018-11-30 23:30:00", "2018-12-01 00:00:00", "2018-12-01 00:30:00", "2018-12-01 01:00:00", "2018-12-01 01:30:00", "2018-12-01 02:00:00", "2018-12-01 02:30:00", "2018-12-01 03:00:00", "2018-12-01 03:30:00", "2018-12-01 04:00:00", "2018-12-01 04:30:00", "2018-12-01 05:00:00", "2018-12-01 05:30:00", "2018-12-01 06:00:00", "2018-12-01 06:30:00", "2018-12-01 07:00:00", "2018-12-01 07:30:00", "2018-12-01 08:00:00", "2018-12-01 08:30:00", "2018-12-01 09:00:00", "2018-12-01 09:30:00", "2018-12-01 10:00:00", "2018-12-01 10:30:00", "2018-12-01 11:00:00", "2018-12-01 11:30:00", "2018-12-01 12:00:00", "2018-12-01 12:30:00", "2018-12-01 13:00:00", "2018-12-01 13:30:00", "2018-12-01 14:00:00", "2018-12-01 14:30:00", "2018-12-01 15:00:00", "2018-12-01 15:30:00", "2018-12-01 16:00:00", "2018-12-01 16:30:00", "2018-12-01 17:00:00", "2018-12-01 17:30:00", "2018-12-01 18:00:00", "2018-12-01 18:30:00", "2018-12-01 19:00:00", "2018-12-01 19:30:00", "2018-12-01 20:00:00", "2018-12-01 20:30:00", "2018-12-01 21:00:00", "2018-12-01 21:30:00", "2018-12-01 22:00:00", "2018-12-01 22:30:00", "2018-12-01 23:00:00", "2018-12-01 23:30:00", "2018-12-02 00:00:00", "2018-12-02 00:30:00", "2018-12-02 01:00:00", "2018-12-02 01:30:00", "2018-12-02 02:00:00", "2018-12-02 02:30:00", "2018-12-02 03:00:00", "2018-12-02 03:30:00", "2018-12-02 04:00:00", "2018-12-02 04:30:00", "2018-12-02 05:00:00", "2018-12-02 05:30:00", "2018-12-02 06:00:00", "2018-12-02 06:30:00", "2018-12-02 07:00:00", "2018-12-02 07:30:00", "2018-12-02 08:00:00", "2018-12-02 08:30:00", "2018-12-02 09:00:00", "2018-12-02 09:30:00", "2018-12-02 10:00:00", "2018-12-02 10:30:00"], 
#   "y": [138.841193, 140.08928999999998, 139.193627, 139.3923, 138.23851200000001, 138.543394, 138.618325, 137.725303, 137.917408, 138.39097900000002, 137.678437, 137.043611, 136.128001, 136.952625, 136.590077, 136.821995, 135.595875, 133.821969, 134.922253, 134.953076, 133.98511499999998, 134.403144, 133.652021, 132.281824, 132.165784, 132.205198, 133.667424, 133.359012, 132.711185, 133.217833, 132.394312, 132.47436499999998, 133.472748, 133.79441200000002, 133.3696, 132.55220400000002, 132.396018, 131.21172099999998, 131.127352, 131.639825, 132.569122, 132.1, 131.203609, 131.684167, 128.066003, 126.37044399999999, 127.802175, 125.92849, 121.633578, 121.81663, 123.05451699999999, 123.193817, 125.096678, 124.22761000000001, 125.54068500000001, 124.534834, 125.579823, 125.62003, 125.26540700000001, 126.433595, 126.333887, 125.947, 125.85, 127.118752, 127.840988, 125.959172, 126.561617, 125.59774499999999, 125.068825, 125.23378000000001, 124.74811299999999, 123.15331100000002, 123.035734, 123.61748600000001, 123.139187, 124.425352, 124.10426100000001, 124.07018300000001, 122.552012, 122.43121799999999, 121.533971, 122.126822, 122.36348899999999, 122.06426499999999, 123.119557, 123.00108200000001, 122.48868200000001, 122.38996200000001, 122.95522700000001, 123.84763400000001, 123.55248799999998, 126.013903, 125.041676, 125.549623, 126.34407, 129.40776200000002, 127.769687, 128.717705, 127.74016, 127.018723, 127.65006799999999, 127.23018400000001, 127.948609, 127.20793400000001, 126.434716, 126.15906799999999, 125.87474399999999, 125.99254199999999, 124.407826, 124.466525, 125.110111, 125.4, 124.505144, 125.376496, 125.141221, 123.55526599999999, 123.665, 123.720832, 123.553229, 124.427777, 124.636845, 124.079095, 124.384026, 124.72864299999999, 123.988339, 124.40756200000001, 123.65516299999999, 123.00326100000001, 123.00326299999999, 123.50474299999999, 123.73346000000001, 123.61271599999999, 123.54587099999999, 121.60260500000001, 122.04030300000001, 122.076485, 116.96886, 116.81598600000001, 113.070272, 114.13509099999999, 116.665801, 115.06095800000001, 114.241134, 114.00658999999999, 113.948734, 113.006725, 111.95198899999998, 110.07756200000001, 109.13, 107.06645400000001, 108.379994, 108.10600000000001, 108.15149299999999, 107.71700000000001, 108.281327, 108.0, 108.94115900000001, 109.304787, 109.26476100000001, 108.545831, 106.994023, 105.06933000000001, 106.02946999999999, 109.33918, 112.47271299999998, 112.417527, 112.20965600000001, 112.514503, 112.711101, 113.83057099999999, 112.709404, 114.06406000000001, 112.07618000000001, 112.0555, 112.19313999999999, 112.12795600000001, 109.03806000000002, 109.49004099999999, 110.73978600000001, 111.14954399999999, 114.210898, 113.70381499999999, 115.679, 117.104882, 119.43799999999999, 119.65921499999999, 120.20621000000001, 117.384003, 117.88, 118.738374, 120.061622, 118.61, 117.73011299999999, 117.767794, 116.76855, 117.08034599999999, 117.47635, 117.390126, 116.189231, 115.984183, 116.503042, 116.885993, 117.552678, 119.362877, 118.57324399999999, 117.476602, 116.739997, 116.44178000000001, 116.081933, 115.329457, 116.62786399999999, 116.64478100000001, 116.84868, 116.705998, 117.0, 116.499999, 115.44791699999999, 112.55138500000001, 110.8, 112.708941, 112.07168700000001, 110.892402, 109.235299, 111.984273, 113.175151, 111.305753, 111.130705, 113.062357, 113.93989099999999, 111.988118, 111.66, 108.639288, 107.60876599999999, 108.058908, 108.9, 107.907421, 110.002475, 110.59730900000001, 109.34604099999999, 109.94233899999999, 106.459477, 107.611186, 107.296678, 108.548093, 107.587698, 107.37597, 108.128629, 107.644001, 109.48700000000001, 109.63888899999999, 108.726004, 109.86399999999999, 108.41271599999999, 109.04835, 107.655249, 106.76006100000001, 107.345638, 107.44337800000001, 106.480818, 105.863652, 105.59643899999999, 104.944648, 105.91065400000001, 106.03, 106.766269, 107.650888, 107.38995700000001, 107.471373, 106.16408600000001, 106.317803, 105.94616699999999, 108.243459, 108.339174, 107.87886, 108.45059099999999, 108.662347, 108.96903200000001, 108.667799, 108.226045, 108.666423, 108.40486200000001, 111.48501, 111.548033, 113.20232, 112.627448, 111.362862, 113.34298500000001, 112.256809, 112.28376999999999, 112.152619, 112.970615, 111.941501, 112.350249, 113.463958, 114.31390400000001, 116.86764, 116.1208, 115.86169199999999, 116.244452, 115.771615, 116.74826599999999, 117.417424, 115.871604, 114.95941299999998, 115.694248, 115.611825, 115.72423, 116.081488, 115.356625, 115.737397, 115.16641200000001, 117.951072, 117.796201, 117.59246, 119.679999, 120.739686, 119.505243, 120.219808, 118.905551, 118.42, 119.509774, 119.969369, 120.79149299999999, 121.04021599999999, 124.795552, 123.90211599999999, 124.857192, 124.457751, 123.47200000000001, 121.614382, 121.55683700000002, 121.335504, 121.271483, 122.889156, 121.709524, 122.416698, 119.74795800000001, 118.683504, 117.727079, 118.82028000000001, 117.760002, 117.121808, 118.212125, 118.186299, 120.194092, 119.76630800000001, 119.58436299999998, 119.923069, 118.977198, 118.94455400000001, 121.46165500000001, 120.625045, 122.32672600000001, 122.159627, 120.91985, 120.598924, 123.89328799999998, 121.852625, 121.925855, 118.000001, 118.28858100000001, 117.98576399999999, 119.23218200000001, 118.34198300000001, 118.21861799999999, 118.010249, 119.62701899999999, 120.50218100000001, 120.523991, 118.92173500000001, 120.01346299999999, 118.408828, 117.38661, 118.071727, 118.086979, 117.9, 115.2702, 116.56566200000002, 117.261435, 117.094401, 118.26104299999999, 117.870135, 116.170309, 116.515294, 115.822, 116.791785, 117.542772, 118.864609, 118.432589, 118.753482, 118.073901, 119.0, 118.689452, 118.53898999999998, 118.986604, 118.48523700000001, 117.107171, 117.174605, 118.31681299999998, 117.955754, 117.44686000000002, 117.57101000000002, 115.04057, 114.349375, 113.94121399999999, 113.964044, 113.86239099999999, 113.751042, 114.238841, 114.1341, 114.10991499999999, 113.787264, 113.297546, 113.68798500000001, 113.949624, 115.537306, 114.853205, 114.82045600000001, 114.78179399999999, 114.152045, 114.694553, 114.606228, 113.88775600000001, 114.317811, 114.00387099999999, 113.47491699999999, 112.698691, 112.835203, 113.37088999999999, 113.75665500000001, 113.079769, 113.38500400000001, 114.0, 114.038261, 113.835503, 113.084791, 113.609908, 113.209453, 112.599774, 112.229969, 111.869222, 112.20079299999999, 112.328627, 111.61919499999999, 112.269653, 112.29562800000001, 113.806614, 113.658988, 114.19191299999999, 114.4, 116.99821499999999, 117.789856, 119.189734, 119.64399999999999, 118.23327900000001, 117.926957, 118.402142, 117.668972, 118.059344, 118.47418799999998, 118.253523, 118.837083, 119.840351, 119.112227, 118.80144299999999, 119.16843600000001, 119.127352, 118.75034099999999, 119.529746, 119.67253899999999, 118.91206399999999, 117.92068200000001, 118.023439, 118.26287099999999, 118.289445, 119.105998, 118.173725, 118.019245, 118.89379, 118.69667, 119.234706, 120.05388500000001, 119.79640500000001, 119.704479, 117.70245600000001, 118.283955, 118.390398, 117.98198000000001, 117.11247900000001, 117.44674199999999, 117.56608700000001, 117.39773899999999, 117.915807, 117.559271, 117.550824, 117.377248, 118.087056, 118.130091, 116.980741, 116.462369], 
#   "yaxis": "y3", 
#   "marker": {
#     "size": 10, 
#     "color": ["rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgb(255, 0, 0)", "rgb(0, 255, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgb(0, 255, 0)", "rgb(255, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)", "rgba(0, 0, 0, 0)"]
#   }, 
#   "text": [None, "BUY", "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, "SELL", None, None, "BUY", None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, "BUY", None, "SELL", None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, "SELL", None, None, None, None, None, "BUY", None, None, "SELL", None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, "BUY", "SELL", "BUY", "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, "SELL", None, None, "BUY", None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, "BUY", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, "BUY", "SELL", None, None, None, None, None, None, None, None, None, None, None, None, None, None, None]
# }
trace2 = {
  "mode": "lines", 
  "name": "RSI", 
  "type": "scatter", 
  "x": df['date'], 
  "y": df['RSI_14']
}
trace3 = {
  "name": "MACD", 
  "type": "scatter", 
  "x": df['date'], 
  "y": df['MACD_12_26_9'],
  "yaxis": "y2"
}
trace4 = {
  "name": "SIGNAL", 
  "type": "scatter", 
   "x": df['date'], 
   "y": df['MACD_12_26_9'],
  "yaxis": "y2"
}
data = [trace2, trace3, trace4]
layout = {
  "xaxis": { "type" : "category"},
  "yaxis": {"domain": [0, 0.33]}, 
  "yaxis2": {"domain": [0.33, 0.66]}, 
  "yaxis3": {"domain": [0.66, 1]}
}
fig = go.Figure(data=data, layout=layout)
fig.show()


# Create figure with secondary y-axis
# fig = make_subplots(specs=[[{"secondary_y": True}]])

# fig.add_trace(go.Candlestick(x=df['date'], open=df['open'], high=df['high'], low=df['low'], close=df['close'],
#                              yaxis='y1', name='Cnadlestick'))

# fig.add_trace(go.Scatter(x=df['date'], y=df['SMA_9'], name='Moving Avg 9',mode='lines',
#                         line=dict(color='red',width=2)))

# fig.add_trace(go.Scatter(x=df['date'], y=df['SMA_21'], name='Moving Avg 21',mode='lines',
#                         line=dict(color='green',width=2)))

# # fig.add_trace(go.Bar(x=df['date'], y=df['volume'], yaxis='y2', name='Volume'))
# fig.add_trace(go.Scatter(x=df['date'], y=df['RSI_14'], yaxis='y2', mode='lines', name='RSI', line=dict(color='blue',width=2)))

# # Add figure title
# fig.update_layout(
#     width=1500,
#     height=800,
#     title_text="Microsoft Stock",
#     yaxis_tickformat='M'
# )

# fig.update_layout(legend=dict(
#     orientation="h",
#     yanchor="bottom",
#     y=1.02,
#     xanchor="right",
#     x=1
# ))

# # Set x-axis title
# fig.update_xaxes(title_text="Date")

# # Set y-axes titles
# fig.update_yaxes(title_text="<b>primary</b> Close", secondary_y=False)
# fig.update_yaxes(title_text="<b>secondary</b> Volume", range=[0, 300000000], secondary_y=True)

# fig.show()